<!-- templates/index.html -->

<!DOCTYPE html>
<html>
<head>
    <title>Binance Trading Bot</title>
    <style>
        body { font-family: sans-serif; padding: 20px; max-width: 600px; margin: auto; }
        .success { color: green; }
        .danger { color: red; }
        label, input, select { display: block; margin: 10px 0; }
    </style>
</head>
<body>
    <h1>ðŸš€ Binance Futures Testnet Bot</h1>
    <p>ðŸ’° Wallet Balance: <strong>{{ balance }} USDT</strong></p>

    {% with messages = get_flashed_messages(with_categories=true) %}
      {% for category, message in messages %}
        <p class="{{ category }}">{{ message }}</p>
      {% endfor %}
    {% endwith %}

    <form method="POST">
        <label>Symbol:</label>
        <input name="symbol" value="BTCUSDT" />

        <label>Side:</label>
        <select name="side">
            <option value="BUY">Buy</option>
            <option value="SELL">Sell</option>
        </select>

        <label>Order Type:</label>
        <select name="order_type" onchange="togglePriceField(this.value)">
            <option value="MARKET">Market</option>
            <option value="LIMIT">Limit</option>
        </select>

        <label>Quantity:</label>
        <input name="quantity" type="number" step="0.0001" />

        <div id="priceDiv" style="display:none;">
            <label>Limit Price:</label>
            <input name="price" type="number" step="0.01" />
        </div>

        <button type="submit">Place Order</button>
    </form>

    <script>
        function togglePriceField(type) {
            document.getElementById('priceDiv').style.display = type === 'LIMIT' ? 'block' : 'none';
        }
    </script>
</body>
</html>
